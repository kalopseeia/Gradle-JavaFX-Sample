/*
 * This file was generated by the Gradle 'init' task.
 *
 * The settings file is used to specify which projects to include in your build.
 *
 * Detailed information about configuring a multi-project build in Gradle can be found
 * in the user manual at https://docs.gradle.org/7.4/userguide/multi_project_builds.html
 */

/*
 *
 * Credits to Ghidra : https://github.com/NationalSecurityAgency/ghidra/blob/master/gradle/support/settingsUtil.gradle
 *
 */

ext.includeProject = { name, path, mustExist ->
	includeProjectNamed(name, name, path, mustExist);
}

ext.includeProjectNamed = { name, dirName, path, mustExist ->
	File projectDir = new File(rootProject.projectDir, "$path/$dirName")
	if (projectDir.exists() || mustExist) {
		include name;
		project(":$name").projectDir = projectDir;
	}
}

ext.includeProjects = { path -> 

	FileTree fileTree = fileTree(rootProject.projectDir.absolutePath + "/" + path)  {
		include '*/build.gradle'
	}
	
	fileTree.each { gradleBuildFile ->
		String projectName = gradleBuildFile.parentFile.name
		includeProject(projectName, path, true);
	}
}


// ext.rootProject.name = 'myStandardStructure'

ext.includeProjects('myStandardStructure/debug')
ext.includeProjects('myStandardStructure/framework')
// include('app')
